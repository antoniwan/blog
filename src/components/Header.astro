---
import ThemeToggle from './ThemeToggle.astro';
import MobileNav from './MobileNav.astro';
import Logo from './Logo.astro';
import { mainNavigation } from '../data/navigation';
---

<header class="sticky top-0 z-50 w-full bg-background/80 dark:bg-background-dark/80 backdrop-blur-md border-b border-border/20 dark:border-border-dark/20 transition-colors duration-300">
	<div class="max-w-5xl mx-auto px-4 md:px-8">
		<nav class="flex items-center justify-between h-16">
			<div class="flex items-center space-x-8">
				<!-- Logo -->
				<Logo />

				<!-- Desktop Navigation Links -->
				<div class="hidden md:flex items-center space-x-6">
					{mainNavigation.map((item) => (
						<a 
							href={item.href} 
							class="text-text dark:text-text-dark no-underline font-medium text-base md:text-lg py-2 transition-all duration-300 hover:text-primary-500 dark:hover:text-primary-400 focus:outline-none focus:ring-2 focus:ring-primary-500/50 focus:ring-offset-2 focus:ring-offset-background dark:focus:ring-offset-background-dark rounded-lg after:content-[''] after:absolute after:bottom-0 after:left-0 after:w-full after:h-0.5 after:bg-primary-500 dark:after:bg-primary-400 after:scale-x-0 after:origin-right after:transition-transform after:duration-300 after:ease-out-cubic hover:after:scale-x-100 hover:after:origin-left aria-[current=page]:text-primary-500 dark:aria-[current=page]:text-primary-400 aria-[current=page]:after:scale-x-100 aria-[current=page]:font-semibold aria-[current=page]:after:bg-primary-500/80 dark:aria-[current=page]:after:bg-primary-400/80"
						>
							<span class="relative z-10">
								{item.label}
							</span>
						</a>
					))}
				</div>
			</div>

			<div class="flex items-center space-x-4">
				<!-- Theme Toggle -->
				<ThemeToggle />

				<!-- Mobile Navigation -->
				<MobileNav />
			</div>
		</nav>
	</div>
</header>

<style>
	/* Enhanced header animations */
	header {
		transition: background-color 300ms cubic-bezier(0.4, 0, 0.2, 1),
					border-color 300ms cubic-bezier(0.4, 0, 0.2, 1);
	}

	/* Mobile menu styles */
	@media (max-width: 768px) {
		nav {
			padding: 0.5rem 0;
		}
	}

	/* Dark mode optimizations */
	@media (prefers-color-scheme: dark) {
		header {
			background-color: rgba(15, 18, 25, 0.8);
		}
	}

	/* Respect reduced motion preferences */
	@media (prefers-reduced-motion: reduce) {
		header {
			transition: none !important;
		}
	}
</style> 