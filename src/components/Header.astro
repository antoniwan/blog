---
import ThemeToggle from './ThemeToggle.astro';
import MobileNav from './MobileNav.astro';
import { mainNavigation } from '../data/navigation';
---

<header class="sticky top-0 z-50 w-full bg-background/80 dark:bg-gray-dark/80 backdrop-blur-md border-b border-gray-200 dark:border-gray-700">
	<div class="max-w-5xl mx-auto px-4 md:px-8">
		<nav class="flex items-center justify-between h-16">
			<div class="flex items-center space-x-8">
				<!-- Logo -->
				<a href="/" class="flex items-center space-x-2 text-text dark:text-gray-light hover:text-primary dark:hover:text-primary transition-colors duration-300">
					<img 
						src="/sh-sh-logo.svg" 
						alt="Strong Hands Soft Heart Logo" 
						class="w-8 h-8"
						width="32"
						height="32"
					/>
					<span class="font-bold text-xl">StrongVault</span>
				</a>

				<!-- Desktop Navigation Links -->
				<div class="hidden md:flex items-center space-x-6">
					{mainNavigation.map((item) => (
						<a 
							href={item.href} 
							class="text-text dark:text-gray-light no-underline font-medium text-base md:text-lg py-2 transition-all duration-300 hover:text-primary dark:hover:text-primary focus:outline-none focus:ring-2 focus:ring-primary/50 focus:ring-offset-2 focus:ring-offset-background dark:focus:ring-offset-gray-dark rounded-lg after:content-[''] after:absolute after:bottom-0 after:left-0 after:w-full after:h-0.5 after:bg-primary after:scale-x-0 after:origin-right after:transition-transform after:duration-300 after:ease-out-cubic hover:after:scale-x-100 hover:after:origin-left aria-[current=page]:text-primary aria-[current=page]:after:scale-x-100 aria-[current=page]:font-semibold aria-[current=page]:after:bg-primary/80"
						>
							<span class="relative z-10">
								{item.label}
							</span>
						</a>
					))}
				</div>
			</div>

			<div class="flex items-center space-x-4">
				<!-- Theme Toggle -->
				<ThemeToggle />

				<!-- Mobile Navigation -->
				<MobileNav />
			</div>
		</nav>
	</div>
</header>

<style>
	/* Enhanced header animations */
	header {
		transition: background-color 300ms cubic-bezier(0.4, 0, 0.2, 1),
					border-color 300ms cubic-bezier(0.4, 0, 0.2, 1);
	}

	/* Mobile menu styles */
	@media (max-width: 768px) {
		nav {
			padding: 0.5rem 0;
		}
	}

	/* Dark mode optimizations */
	@media (prefers-color-scheme: dark) {
		header {
			background-color: rgba(17, 24, 39, 0.8);
		}
	}

	/* Respect reduced motion preferences */
	@media (prefers-reduced-motion: reduce) {
		header {
			transition: none !important;
		}
	}
</style> 