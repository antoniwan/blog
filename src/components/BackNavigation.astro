---
interface Props {
  fallbackUrl?: string;
}

const { fallbackUrl = '/' } = Astro.props;
---

<nav class="mb-8 md:mb-12" aria-label="Back navigation">
	<a href={fallbackUrl} class="back-link inline-flex items-center gap-2 text-gray dark:text-gray-light no-underline font-medium transition-colors hover:text-primary focus:outline-2 focus:outline-primary focus:outline-offset-2">
		<svg
			class="w-5 h-5"
			xmlns="http://www.w3.org/2000/svg"
			width="24"
			height="24"
			viewBox="0 0 24 24"
			fill="none"
			stroke="currentColor"
			stroke-width="2"
			stroke-linecap="round"
			stroke-linejoin="round"
			aria-hidden="true"
		>
			<path d="M19 12H5M12 19l-7-7 7-7" />
		</svg>
		<span class="text-base">Back to home</span>
	</a>
</nav>

<script>
  // Get the previous page URL from browser history
  const backLink = document.querySelector('.back-link') as HTMLAnchorElement;
  if (backLink && document.referrer) {
    const referrer = new URL(document.referrer);
    const current = new URL(window.location.href);
    
    // Only update the link if the referrer is from the same origin
    if (referrer.origin === current.origin) {
      backLink.href = document.referrer;
    }
  }
</script> 