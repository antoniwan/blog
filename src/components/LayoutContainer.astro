---
interface Props {
  /**
   * The type of content being contained
   */
  type?: 'container' | 'section' | 'content';
  
  /**
   * The size variant for the container
   */
  size?: 'narrow' | 'default' | 'wide';
  
  /**
   * The padding size
   */
  padding?: 'none' | 'sm' | 'md' | 'lg' | 'section' | 'block';
  
  /**
   * Whether to add a top border
   */
  hasBorder?: boolean;
  
  /**
   * Whether to use an alternate background
   */
  isAlt?: boolean;
  
  /**
   * Additional classes to apply
   */
  class?: string;
}

const { 
  type = 'container',
  size = 'default',
  padding = 'md',
  hasBorder = false,
  isAlt = false,
  class: className = ''
} = Astro.props;

// Map container types to max-width classes
const maxWidthMap = {
  container: {
    narrow: 'max-w-container-narrow',
    default: 'max-w-container',
    wide: 'max-w-container-wide',
  },
  section: {
    narrow: 'max-w-prose',
    default: 'max-w-prose-wide',
    wide: 'max-w-none',
  },
  content: {
    narrow: 'max-w-prose',
    default: 'max-w-prose-wide',
    wide: 'max-w-none',
  },
};

// Map padding sizes to Tailwind classes
const paddingMap = {
  none: '',
  sm: 'px-4 py-6 md:px-4 md:py-8',
  md: 'px-4 py-8 md:px-6 md:py-12',
  lg: 'px-6 py-12 md:px-8 md:py-16',
  section: 'px-4 py-16 md:px-6 md:py-24',
  block: 'px-4 py-12 md:px-6 md:py-16'
};

const maxWidthClass = maxWidthMap[type][size];
const paddingClass = paddingMap[padding];

// Determine if this should render as a section or div
const isSection = type === 'section' || hasBorder || isAlt;
const Element = isSection ? 'section' : 'div';
---

<Element
  class:list={[
    'mx-auto w-full',
    maxWidthClass,
    paddingClass,
    {
      'border-t border-border/10': hasBorder,
      'bg-background-alt dark:bg-background-alt-dark': isAlt
    },
    className
  ]}
>
  {type === 'section' ? (
    <div class="space-y-4 md:space-y-6">
      <slot />
    </div>
  ) : (
    <slot />
  )}
</Element>

<style>
  /* Print styles */
  @media print {
    section {
      max-width: none !important;
      padding: 0 !important;
      margin: 0 !important;
    }
  }
</style> 