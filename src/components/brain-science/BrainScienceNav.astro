---
import { BRAIN_SCIENCE_PAGES } from '../../data/brainScience';

interface Props {
  currentPage: string; // Path of current page (e.g., '/brain-science' or '/brain-science/insights')
  showNavLinks?: boolean; // Whether to show navigation links
}

const { currentPage, showNavLinks = true } = Astro.props;

// Get current page info
const currentPageInfo = BRAIN_SCIENCE_PAGES.find((page) => page.path === currentPage);
const isIndexPage = currentPage === '/brain-science';

// Get all pages for navigation
const allPages = BRAIN_SCIENCE_PAGES;
---

{
  showNavLinks && (
    <nav
      class="mb-8 border-b border-[rgb(var(--color-border))] md:mb-10"
      aria-label="Brain Science Navigation"
    >
      <div class="flex flex-wrap gap-1 overflow-x-auto pb-2 md:gap-2">
        {allPages.map((page) => {
          const isActive = page.path === currentPage;
          return (
            <a
              href={page.path}
              class={`whitespace-nowrap rounded-t-lg px-3 py-2 text-sm font-medium transition-colors md:px-4 md:py-2.5 md:text-base ${
                isActive
                  ? 'border-b-2 border-[rgb(var(--color-accent))] bg-[rgb(var(--color-bg-secondary))] text-[rgb(var(--color-accent))]'
                  : 'text-[rgb(var(--color-text-muted))] hover:bg-[rgb(var(--color-bg-secondary))] hover:text-[rgb(var(--color-text))]'
              }`}
              aria-current={isActive ? 'page' : undefined}
            >
              <span class="mr-1.5">{page.emoji}</span>
              <span class="hidden sm:inline">{page.title}</span>
              <span class="sm:hidden">{page.title.split(' ')[0]}</span>
            </a>
          );
        })}
      </div>
    </nav>
  )
}
