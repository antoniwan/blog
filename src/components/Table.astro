---
interface Props {
	headers: string[];
	rows: string[][];
	caption?: string;
}

const { headers, rows, caption } = Astro.props;
---

<div class="table-container overflow-x-auto rounded-lg border border-gray-light/40 dark:border-gray/40">
	<table class="w-full border-collapse">
		{caption && (
			<caption class="px-4 py-2 text-sm font-medium text-gray dark:text-gray-light bg-gray-light/20 dark:bg-gray/20 border-b border-gray-light/40 dark:border-gray/40">
				{caption}
			</caption>
		)}
		<thead>
			<tr class="bg-gray-light/30 dark:bg-gray/30">
				{headers.map((header) => (
					<th class="px-4 py-3 text-left text-sm font-medium text-gray-dark dark:text-gray-light border-b border-gray-light/40 dark:border-gray/40">
						{header}
					</th>
				))}
			</tr>
		</thead>
		<tbody>
			{rows.map((row, rowIndex) => (
				<tr class={`group ${rowIndex % 2 === 0 ? 'bg-background dark:bg-gray-dark' : 'bg-gray-light/10 dark:bg-gray/10'}`}>
					{row.map((cell) => (
						<td class="px-4 py-3 text-sm text-gray-dark dark:text-gray-light border-b border-gray-light/40 dark:border-gray/40 group-hover:bg-gray-light/20 dark:group-hover:bg-gray/20 transition-colors duration-200">
							{cell}
						</td>
					))}
				</tr>
			))}
		</tbody>
	</table>
</div>

<style>
	.table-container {
		scrollbar-width: thin;
		scrollbar-color: var(--tw-color-gray-light) var(--tw-color-background);
	}

	.table-container::-webkit-scrollbar {
		width: 8px;
		height: 8px;
	}

	.table-container::-webkit-scrollbar-track {
		background: var(--tw-color-background);
		border-radius: 4px;
	}

	.table-container::-webkit-scrollbar-thumb {
		background-color: var(--tw-color-gray-light);
		border-radius: 4px;
		border: 2px solid var(--tw-color-background);
	}

	.table-container::-webkit-scrollbar-thumb:hover {
		background-color: var(--tw-color-gray);
	}

	/* Dark mode scrollbar */
	@media (prefers-color-scheme: dark) {
		.table-container {
			scrollbar-color: var(--tw-color-gray) var(--tw-color-gray-dark);
		}

		.table-container::-webkit-scrollbar-track {
			background: var(--tw-color-gray-dark);
		}

		.table-container::-webkit-scrollbar-thumb {
			background-color: var(--tw-color-gray);
			border-color: var(--tw-color-gray-dark);
		}

		.table-container::-webkit-scrollbar-thumb:hover {
			background-color: var(--tw-color-gray-light);
		}
	}

	/* Respect reduced motion preferences */
	@media (prefers-reduced-motion: reduce) {
		td {
			transition: none;
		}
	}
</style> 