---
import BaseLayout from './BaseLayout.astro';
import type { Props as BaseLayoutProps } from './BaseLayout.astro';
import FormattedDate from '../components/FormattedDate.astro';

interface Props extends Omit<BaseLayoutProps, 'layoutType'> {
  title: string;
  description?: string;
  pubDate?: Date;
  updatedDate?: Date;
  heroImage?: string;
  readingTime?: number;
  tags?: string[];
}

const {
  title,
  description,
  pubDate,
  updatedDate,
  heroImage,
  readingTime,
  tags,
  ...rest
} = Astro.props;
---

<BaseLayout
  title={title}
  description={description}
  layoutType="blog"
  pubDate={pubDate}
  updatedDate={updatedDate}
  heroImage={heroImage}
  readingTime={readingTime}
  tags={tags}
  {...rest}
>
  <article>
    <section class="prose dark:prose-invert">
      <slot />
    </section>
  </article>
</BaseLayout>

<style>
  /* Enhanced typography for longform content */
  .prose {
    --tw-prose-body: var(--tw-color-text);
    --tw-prose-headings: var(--tw-color-text);
    --tw-prose-links: var(--tw-color-primary-500);
    --tw-prose-bold: var(--tw-color-text);
    --tw-prose-counters: var(--tw-color-text);
    --tw-prose-bullets: var(--tw-color-text);
    --tw-prose-hr: var(--tw-color-border);
    --tw-prose-quotes: var(--tw-color-text);
    --tw-prose-quote-borders: var(--tw-color-primary-500);
    --tw-prose-captions: var(--tw-color-text);
    --tw-prose-code: var(--tw-color-text);
    --tw-prose-pre-code: var(--tw-color-text);
    --tw-prose-pre-bg: var(--tw-color-background);
    --tw-prose-th-borders: var(--tw-color-border);
    --tw-prose-td-borders: var(--tw-color-border);
  }

  /* Drop cap for first paragraph */
  .prose > p:first-of-type::first-letter {
    float: left;
    font-size: 4.5em;
    line-height: 0.8;
    margin-right: 0.1em;
    margin-bottom: 0.1em;
    font-family: var(--font-serif);
    color: var(--tw-color-primary-500);
  }
</style> 