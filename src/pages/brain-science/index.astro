---
import BaseLayout from '../../layouts/BaseLayout.astro';
import Container from '../../components/Container.astro';
import Breadcrumbs from '../../components/Breadcrumbs.astro';
import { getCollection } from 'astro:content';
import { categories } from '../../data/categories';
import { getTagWeight, MASLOW_CATEGORIES } from '../../data/tags';
import { formatDistanceToNow, format, startOfMonth, endOfMonth, eachMonthOfInterval, parseISO } from 'date-fns';
import { calculateObjectiveMetrics, scoreToLetterGrade, letterGradeToColor } from '../../utils/insightGenerator';

// Get all published posts
const posts = await getCollection('blog', ({ data }) => {
	return import.meta.env.PROD ? !data.draft && data.published : true;
});

// Sort posts by date
const sortedPosts = posts.sort((a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf());

// Calculate key metrics
const totalPosts = posts.length;
const totalWords = posts.reduce((sum, post) => {
	const content = post.body;
	return sum + (content ? content.split(/\s+/).length : 0);
}, 0);
const averageWordsPerPost = Math.round(totalWords / totalPosts);

// Date range analysis
const firstPostDate = sortedPosts[sortedPosts.length - 1]?.data.pubDate;
const lastPostDate = sortedPosts[0]?.data.pubDate;
const daysSinceFirstPost = firstPostDate ? Math.floor((Date.now() - firstPostDate.getTime()) / (1000 * 60 * 60 * 24)) : 0;
const postsPerDay = daysSinceFirstPost > 0 ? (totalPosts / daysSinceFirstPost).toFixed(2) : 0;

// Monthly posting frequency
const monthlyPosts = eachMonthOfInterval({
	start: firstPostDate || new Date(),
	end: lastPostDate || new Date()
}).map(month => {
	const monthStart = startOfMonth(month);
	const monthEnd = endOfMonth(month);
	const postsInMonth = posts.filter(post => 
		post.data.pubDate >= monthStart && post.data.pubDate <= monthEnd
	).length;
	return {
		month: format(month, 'yyyy-MM'),
		label: format(month, 'MMM yyyy'),
		count: postsInMonth
	};
});

// Tag analysis
const tagFrequency = posts.reduce((acc, post) => {
	post.data.tags?.forEach(tag => {
		acc[tag] = (acc[tag] || 0) + 1;
	});
	return acc;
}, {} as Record<string, number>);

const topTags = Object.entries(tagFrequency)
	.sort(([,a], [,b]) => b - a)
	.slice(0, 10)
	.map(([tag, count]) => ({ tag, count, weight: getTagWeight(tag) }));

// Category analysis
const categoryFrequency = posts.reduce((acc, post) => {
	post.data.category?.forEach(cat => {
		acc[cat] = (acc[cat] || 0) + 1;
	});
	return acc;
}, {} as Record<string, number>);

// Maslow hierarchy analysis
const maslowAnalysis = MASLOW_CATEGORIES.map(category => {
	const categoryPosts = posts.filter(post => 
		post.data.tags?.some(tag => category.tags.includes(tag))
	).length;
	return {
		...category,
		postCount: categoryPosts,
		percentage: Math.round((categoryPosts / totalPosts) * 100)
	};
}).filter(cat => cat.postCount > 0);

// Current month posts
const thisMonthPosts = posts.filter(post => {
	const now = new Date();
	const postDate = post.data.pubDate;
	return postDate.getMonth() === now.getMonth() && postDate.getFullYear() === now.getFullYear();
}).length;

// Writing streaks
let currentStreak = 0;
let longestStreak = 0;
let tempStreak = 0;

for (let i = 0; i < sortedPosts.length - 1; i++) {
	const currentDate = sortedPosts[i].data.pubDate;
	const nextDate = sortedPosts[i + 1].data.pubDate;
	const daysDiff = Math.floor((currentDate.getTime() - nextDate.getTime()) / (1000 * 60 * 60 * 24));
	
	if (daysDiff <= 7) { // Consider posts within a week as a streak
		tempStreak++;
		longestStreak = Math.max(longestStreak, tempStreak);
	} else {
		tempStreak = 0;
	}
}

currentStreak = tempStreak;

// Personal growth indicators
const growthPosts = posts.filter(post => {
	const tags = post.data.tags || [];
	const title = post.data.title.toLowerCase();
	const content = post.body || '';
	
	const growthTags = ['personal-growth', 'transformation', 'healing', 'self-improvement', 'learning', 'consciousness'];
	const growthKeywords = ['growth', 'change', 'transform', 'learn', 'evolve', 'improve', 'heal', 'discover'];
	
	const hasGrowthTags = growthTags.some(tag => tags.includes(tag));
	const hasGrowthKeywords = growthKeywords.some(keyword => 
		title.includes(keyword) || content.toLowerCase().includes(keyword)
	);
	
	return hasGrowthTags || hasGrowthKeywords;
}).length;

// Emotional processing indicators
const emotionalPosts = posts.filter(post => {
	const content = post.body || '';
	const exclamationCount = (content.match(/!/g) || []).length;
	const emotionalWords = ['love', 'hate', 'fear', 'joy', 'sadness', 'anger', 'peace', 'anxiety', 'hope', 'despair', 'gratitude', 'frustration'];
	const emotionalWordCount = emotionalWords.reduce((count, word) => {
		const regex = new RegExp(`\\b${word}\\b`, 'gi');
		return count + (content.match(regex) || []).length;
	}, 0);
	
	return exclamationCount + emotionalWordCount > 5; // Threshold for emotional intensity
}).length;

// Calculate objective metrics for balanced analysis
const objectiveMetrics = calculateObjectiveMetrics(posts);
---

<BaseLayout
	title="Writing Analytics & Self-Discovery - Brain Science"
	description="Scientific analysis of writing patterns, measurable insights, and data-driven self-discovery. Understanding cognitive patterns through quantitative content analysis."
	path="/brain-science"
	structuredDataType="website"
>
	<Container>
		<Container maxWidth="container" padding="none">
			{/* Breadcrumbs */}
			<div class="mb-6 hidden md:block">
				<Breadcrumbs 
					items={[
						{ label: "Home", href: "/" },
						{ label: "Brain Science" }
					]} 
				/>
			</div>

			<div class="py-6 md:py-8 lg:py-12">
				{/* Header */}
				<div class="mb-8 md:mb-12">
					<h1 class="text-display text-[rgb(var(--color-text))] mb-4 md:mb-6" transition:name="page-title">
						üß† <span class="highlight-primary">Writing Analytics & Self-Discovery</span>
					</h1>
					<p class="text-body-large text-[rgb(var(--color-text-muted))] leading-relaxed" transition:name="page-description">
						Objective analysis of writing patterns through balanced metrics and quantitative content analysis. 
						This section provides unbiased assessment of cognitive patterns, emotional processing, and intellectual evolution using data-driven methodologies that include positive, neutral, and negative signal analysis.
					</p>
				</div>

				{/* Measurable Metrics Grid */}
				<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-12">
					<div class="bg-[rgb(var(--color-bg-secondary))] rounded-lg p-6 border border-[rgb(var(--color-border))]">
						<div class="text-2xl font-bold text-[rgb(var(--color-text))] mb-2" title="Total number of published writings (excluding drafts in production)">{totalPosts}</div>
						<div class="text-sm text-[rgb(var(--color-text-muted))]">Thoughts Captured</div>
						<div class="text-xs text-blue-500 mt-1">üí≠ Mental Snapshots</div>
					</div>
					<div class="bg-[rgb(var(--color-bg-secondary))] rounded-lg p-6 border border-[rgb(var(--color-border))]">
						<div class="text-2xl font-bold text-[rgb(var(--color-text))] mb-2" title="Sum of all words across all published posts (calculated by splitting content on whitespace)">{totalWords.toLocaleString()}</div>
						<div class="text-sm text-[rgb(var(--color-text-muted))]">Words Written</div>
						<div class="text-xs text-green-500 mt-1">üìù Creative Output</div>
					</div>
					<div class="bg-[rgb(var(--color-bg-secondary))] rounded-lg p-6 border border-[rgb(var(--color-border))]">
						<div class="text-2xl font-bold text-[rgb(var(--color-text))] mb-2" title="Posts focused on personal growth, transformation, or self-improvement">{growthPosts}</div>
						<div class="text-sm text-[rgb(var(--color-text-muted))]">Growth Writings</div>
						<div class="text-xs text-purple-500 mt-1">üå± Personal Evolution</div>
					</div>
					<div class="bg-[rgb(var(--color-bg-secondary))] rounded-lg p-6 border border-[rgb(var(--color-border))]">
						<div class="text-2xl font-bold text-[rgb(var(--color-text))] mb-2" title="Posts with high emotional intensity (exclamation marks and emotional keywords)">{emotionalPosts}</div>
						<div class="text-sm text-[rgb(var(--color-text-muted))]">Emotional Writings</div>
						<div class="text-xs text-pink-500 mt-1">üíú Heart Processing</div>
					</div>
				</div>

				{/* Publishing Activity Metrics */}
				<div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-12">
					<div class="text-center">
						<div class="text-2xl font-bold text-[rgb(var(--color-text))] mb-2" title="Number of writings published in the current month">{thisMonthPosts}</div>
						<div class="text-sm text-[rgb(var(--color-text-muted))]">This Month's Insights</div>
					</div>
					<div class="text-center">
						<div class="text-2xl font-bold text-[rgb(var(--color-text))] mb-2" title="Current writing streak (consecutive writings within 7 days of each other)">{currentStreak}</div>
						<div class="text-sm text-[rgb(var(--color-text-muted))]">Current Publishing Streak</div>
					</div>
					<div class="text-center">
						<div class="text-2xl font-bold text-[rgb(var(--color-text))] mb-2" title="Longest writing streak achieved (consecutive writings within 7 days of each other)">{longestStreak}</div>
						<div class="text-sm text-[rgb(var(--color-text-muted))]">Longest Publishing Period</div>
					</div>
				</div>

				{/* Objective Analysis Section */}
				<div class="mt-12 mb-16">
					<h2 class="text-xl font-semibold text-[rgb(var(--color-text))] mb-6 flex items-center gap-2">
						<span class="text-gray-600 dark:text-gray-400">‚öñÔ∏è</span>
						Objective Analysis
					</h2>
					<p class="text-sm text-[rgb(var(--color-text-muted))] mb-8">
						Balanced assessment showing strengths, challenges, and neutral metrics without bias toward positive outcomes.
					</p>
					
					{/* Sentiment Analysis */}
					<div class="mb-8">
						<h3 class="text-lg font-medium text-[rgb(var(--color-text))] mb-4">Sentiment Distribution</h3>
						<div class="grid grid-cols-2 md:grid-cols-4 gap-6">
							<div class="text-center">
								<div class="text-2xl font-bold text-green-600 dark:text-green-400 mb-1">{objectiveMetrics.sentimentAnalysis.positive}</div>
								<div class="text-sm text-green-600 dark:text-green-400">Positive</div>
							</div>
							<div class="text-center">
								<div class="text-2xl font-bold text-red-600 dark:text-red-400 mb-1">{objectiveMetrics.sentimentAnalysis.negative}</div>
								<div class="text-sm text-red-600 dark:text-red-400">Negative</div>
							</div>
							<div class="text-center">
								<div class="text-2xl font-bold text-blue-600 dark:text-blue-400 mb-1">{objectiveMetrics.sentimentAnalysis.neutral}</div>
								<div class="text-sm text-blue-600 dark:text-blue-400">Neutral</div>
							</div>
							<div class="text-center">
								<div class="text-2xl font-bold text-gray-600 dark:text-gray-400 mb-1">{objectiveMetrics.sentimentAnalysis.mixed}</div>
								<div class="text-sm text-gray-600 dark:text-gray-400">Mixed</div>
							</div>
						</div>
					</div>

					{/* Consistency Metrics */}
					<div class="mb-8">
						<h3 class="text-lg font-medium text-[rgb(var(--color-text))] mb-4">Consistency Metrics</h3>
						<div class="grid grid-cols-1 md:grid-cols-3 gap-6">
							<div>
								<div class="text-sm text-[rgb(var(--color-text-muted))] mb-1">Posting Regularity</div>
								<div class="text-2xl font-bold text-[rgb(var(--color-text))] mb-1">{objectiveMetrics.consistencyMetrics.postingRegularity}/100</div>
								<div class={`text-sm font-semibold ${letterGradeToColor(scoreToLetterGrade(objectiveMetrics.consistencyMetrics.postingRegularity))}`}>
									Grade: {scoreToLetterGrade(objectiveMetrics.consistencyMetrics.postingRegularity)}
								</div>
							</div>
							<div>
								<div class="text-sm text-[rgb(var(--color-text-muted))] mb-1">Topic Consistency</div>
								<div class="text-2xl font-bold text-[rgb(var(--color-text))] mb-1">{objectiveMetrics.consistencyMetrics.topicConsistency}/100</div>
								<div class={`text-sm font-semibold ${letterGradeToColor(scoreToLetterGrade(objectiveMetrics.consistencyMetrics.topicConsistency))}`}>
									Grade: {scoreToLetterGrade(objectiveMetrics.consistencyMetrics.topicConsistency)}
								</div>
							</div>
							<div>
								<div class="text-sm text-[rgb(var(--color-text-muted))] mb-1">Quality Variance</div>
								<div class="text-2xl font-bold text-[rgb(var(--color-text))] mb-1">{objectiveMetrics.consistencyMetrics.qualityVariance}/100</div>
								<div class={`text-sm font-semibold ${letterGradeToColor(scoreToLetterGrade(100 - objectiveMetrics.consistencyMetrics.qualityVariance))}`}>
									Grade: {scoreToLetterGrade(100 - objectiveMetrics.consistencyMetrics.qualityVariance)}
								</div>
							</div>
						</div>
					</div>

					{/* Challenge Areas */}
					{objectiveMetrics.challengeAreas.length > 0 && (
						<div class="mb-8">
							<h3 class="text-lg font-medium text-[rgb(var(--color-text))] mb-4">Challenge Areas</h3>
							<div class="space-y-3">
								{objectiveMetrics.challengeAreas.map(challenge => (
									<div class="flex justify-between items-center py-3 border-b border-[rgb(var(--color-border))] last:border-b-0">
										<div>
											<span class="font-medium text-[rgb(var(--color-text))]">{challenge.area}</span>
											<div class="text-sm text-[rgb(var(--color-text-muted))]">
												Frequency: {challenge.frequency}%
											</div>
										</div>
										<span class={`text-sm px-3 py-1 rounded-full ${
											challenge.severity === 'high' 
												? 'bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-300' 
												: challenge.severity === 'medium'
												? 'bg-yellow-100 dark:bg-yellow-900/30 text-yellow-700 dark:text-yellow-300'
												: 'bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300'
										}`}>
											{challenge.severity}
										</span>
									</div>
								))}
							</div>
						</div>
					)}

					{/* Improvement Areas */}
					{objectiveMetrics.improvementAreas.length > 0 && (
						<div class="mb-8">
							<h3 class="text-lg font-medium text-[rgb(var(--color-text))] mb-4">Improvement Opportunities</h3>
							<div class="space-y-4">
								{objectiveMetrics.improvementAreas.map(improvement => (
									<div>
										<div class="flex justify-between items-center mb-2">
											<span class="font-medium text-[rgb(var(--color-text))]">{improvement.area}</span>
											<span class="text-sm text-[rgb(var(--color-text-muted))]">
												{improvement.current} / {improvement.target}
											</span>
										</div>
										<div class="w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2 mb-1">
											<div 
												class="bg-blue-500 h-2 rounded-full transition-all duration-300"
												style={`width: ${Math.min(100, (improvement.current / improvement.target) * 100)}%`}
											></div>
										</div>
										<div class="text-sm text-[rgb(var(--color-text-muted))]">
											Gap: {improvement.gap.toFixed(1)}
										</div>
									</div>
								))}
							</div>
						</div>
					)}
				</div>

				{/* Analytics Navigation Cards */}
				<div class="mt-12 mb-16">
					<h2 class="text-xl font-semibold text-[rgb(var(--color-text))] mb-8 flex items-center gap-2">
						<span class="text-[rgb(var(--color-accent))]">üî¨</span>
						Analytics & Insights
					</h2>
					<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
						<a href="/brain-science/insights" class="group block">
							<div class="p-6 border border-[rgb(var(--color-border))] hover:border-[rgb(var(--color-accent))] hover:bg-[rgb(var(--color-accent))]/5 transition-all duration-200 cursor-pointer">
								<div class="text-2xl mb-3">üí°</div>
								<h3 class="text-lg font-semibold text-[rgb(var(--color-text))] mb-2 group-hover:text-[rgb(var(--color-accent))] transition-colors">
									Personal Insights
								</h3>
								<p class="text-sm text-[rgb(var(--color-text-muted))] group-hover:text-[rgb(var(--color-text))] transition-colors">
									Discover patterns in your emotional processing and creative energy
								</p>
							</div>
						</a>

						<a href="/brain-science/evolution" class="group block">
							<div class="p-6 border border-[rgb(var(--color-border))] hover:border-[rgb(var(--color-accent))] hover:bg-[rgb(var(--color-accent))]/5 transition-all duration-200 cursor-pointer">
								<div class="text-2xl mb-3">üìà</div>
								<h3 class="text-lg font-semibold text-[rgb(var(--color-text))] mb-2 group-hover:text-[rgb(var(--color-accent))] transition-colors">
									Intellectual Growth
								</h3>
								<p class="text-sm text-[rgb(var(--color-text-muted))] group-hover:text-[rgb(var(--color-text))] transition-colors">
									See how your thinking style and knowledge areas have evolved
								</p>
							</div>
						</a>

						<a href="/brain-science/topics" class="group block">
							<div class="p-6 border border-[rgb(var(--color-border))] hover:border-[rgb(var(--color-accent))] hover:bg-[rgb(var(--color-accent))]/5 transition-all duration-200 cursor-pointer">
								<div class="text-2xl mb-3">üè∑Ô∏è</div>
								<h3 class="text-lg font-semibold text-[rgb(var(--color-text))] mb-2 group-hover:text-[rgb(var(--color-accent))] transition-colors">
									Core Themes
								</h3>
								<p class="text-sm text-[rgb(var(--color-text-muted))] group-hover:text-[rgb(var(--color-text))] transition-colors">
									Understand what truly matters to you and how your interests connect
								</p>
							</div>
						</a>

						<a href="/brain-science/cadence" class="group block">
							<div class="p-6 border border-[rgb(var(--color-border))] hover:border-[rgb(var(--color-accent))] hover:bg-[rgb(var(--color-accent))]/5 transition-all duration-200 cursor-pointer">
								<div class="text-2xl mb-3">üìÖ</div>
								<h3 class="text-lg font-semibold text-[rgb(var(--color-text))] mb-2 group-hover:text-[rgb(var(--color-accent))] transition-colors">
									Creative Rhythms
								</h3>
								<p class="text-sm text-[rgb(var(--color-text-muted))] group-hover:text-[rgb(var(--color-text))] transition-colors">
									Discover your natural creative cycles and productive patterns
								</p>
							</div>
						</a>

						<a href="/brain-science/patterns" class="group block">
							<div class="p-6 border border-[rgb(var(--color-border))] hover:border-[rgb(var(--color-accent))] hover:bg-[rgb(var(--color-accent))]/5 transition-all duration-200 cursor-pointer">
								<div class="text-2xl mb-3">üåÄ</div>
								<h3 class="text-lg font-semibold text-[rgb(var(--color-text))] mb-2 group-hover:text-[rgb(var(--color-accent))] transition-colors">
									Hidden Patterns
								</h3>
								<p class="text-sm text-[rgb(var(--color-text-muted))] group-hover:text-[rgb(var(--color-text))] transition-colors">
									Uncover subconscious patterns and creative correlations
								</p>
							</div>
						</a>

						<a href="/brain-science/meta" class="group block">
							<div class="p-6 border border-[rgb(var(--color-border))] hover:border-[rgb(var(--color-accent))] hover:bg-[rgb(var(--color-accent))]/5 transition-all duration-200 cursor-pointer">
								<div class="text-2xl mb-3">üîç</div>
								<h3 class="text-lg font-semibold text-[rgb(var(--color-text))] mb-2 group-hover:text-[rgb(var(--color-accent))] transition-colors">
									Self-Reflection
								</h3>
								<p class="text-sm text-[rgb(var(--color-text-muted))] group-hover:text-[rgb(var(--color-text))] transition-colors">
									Explore how you think about thinking and your relationship with writing
								</p>
							</div>
						</a>
					</div>
				</div>

				{/* Data Insights */}
				<div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
					{/* Core Themes */}
					<div>
						<h3 class="text-lg font-semibold text-[rgb(var(--color-text))] mb-4">What Matters Most to You</h3>
						<div class="space-y-3">
							{topTags.map(({ tag, count, weight }) => (
								<div class="flex justify-between items-center">
									<span class="text-sm text-[rgb(var(--color-text))] font-medium">{tag}</span>
									<div class="flex items-center gap-2">
										<div class="w-16 bg-[rgb(var(--color-border))] rounded-full h-2">
											<div 
												class="bg-[rgb(var(--color-accent))] h-2 rounded-full" 
												style={`width: ${(count / topTags[0].count) * 100}%`}
											></div>
										</div>
										<span class="text-xs text-[rgb(var(--color-text-muted))] w-8 text-right" title={`${count} posts tagged with "${tag}"`}>{count}</span>
									</div>
								</div>
							))}
						</div>
					</div>

					{/* Life Areas Focus */}
					<div>
						<h3 class="text-lg font-semibold text-[rgb(var(--color-text))] mb-4">Your Life Areas Focus</h3>
						<div class="space-y-3">
							{maslowAnalysis.map(category => (
								<div class="flex justify-between items-center">
									<div class="flex items-center gap-2">
										<span class="text-lg">{category.icon}</span>
										<span class="text-sm text-[rgb(var(--color-text))] font-medium">{category.title}</span>
									</div>
									<div class="flex items-center gap-2">
										<div class="w-16 bg-[rgb(var(--color-border))] rounded-full h-2">
											<div 
												class="h-2 rounded-full" 
												style={`width: ${category.percentage}%; background-color: rgb(var(--color-accent))`}
											></div>
										</div>
										<span class="text-xs text-[rgb(var(--color-text-muted))] w-8 text-right" title={`${category.postCount} posts (${category.percentage}% of total) in ${category.title} category`}>{category.percentage}%</span>
									</div>
								</div>
							))}
						</div>
					</div>
				</div>

				{/* Formulas & Metrics Glossary */}
				<div class="mt-12">
					<h3 class="text-xl font-semibold text-[rgb(var(--color-text))] mb-8 flex items-center gap-3">
						<span class="text-[rgb(var(--color-accent))] text-2xl">üìä</span>
						Formulas & Metrics Glossary
					</h3>
					
					<div class="space-y-12">
						{/* Sentiment Analysis */}
						<div>
							<h4 class="text-lg font-semibold text-[rgb(var(--color-text))] mb-4 flex items-center gap-2">
								<span class="text-blue-500">üìà</span>
								Sentiment Analysis
							</h4>
							<div class="space-y-3 text-[rgb(var(--color-text-muted))]">
								<p><strong class="text-[rgb(var(--color-text))]">Formula:</strong> Word frequency analysis using predefined emotional lexicons</p>
								<p><strong class="text-[rgb(var(--color-text))]">Classification:</strong> Post is classified based on highest word frequency category</p>
								<div class="grid grid-cols-1 md:grid-cols-3 gap-6 mt-4">
									<div>
										<p class="font-medium text-[rgb(var(--color-text))] mb-2">Positive Words</p>
										<p class="text-sm">love, joy, excited, happy, grateful, inspired, confident, proud, accomplished, fulfilled, peaceful, content, optimistic, hopeful, energized, motivated, successful, achieved, breakthrough, transformation, growth, improvement, better, stronger, wiser</p>
									</div>
									<div>
										<p class="font-medium text-[rgb(var(--color-text))] mb-2">Negative Words</p>
										<p class="text-sm">hate, fear, sadness, anger, anxiety, despair, frustration, worried, confused, overwhelmed, restless, pain, hurt, broken, struggle, difficult, challenge, failure, disappointed, defeated, hopeless, lost, stuck, trapped, suffering</p>
									</div>
									<div>
										<p class="font-medium text-[rgb(var(--color-text))] mb-2">Neutral Words</p>
										<p class="text-sm">think, believe, understand, realize, observe, notice, consider, reflect, analyze, examine, study, learn, discover, explore, investigate, research, find, determine, conclude, decide</p>
									</div>
								</div>
							</div>
						</div>

						<div class="border-t border-[rgb(var(--color-border))] pt-8"></div>

						{/* Posting Regularity */}
						<div>
							<h4 class="text-lg font-semibold text-[rgb(var(--color-text))] mb-4 flex items-center gap-2">
								<span class="text-green-500">üìÖ</span>
								Posting Regularity
							</h4>
							<div class="space-y-3 text-[rgb(var(--color-text-muted))]">
								<p><strong class="text-[rgb(var(--color-text))]">Formula:</strong> Consistency = 100 - (Variance / 10)</p>
								<p><strong class="text-[rgb(var(--color-text))]">Calculation:</strong> Analyze intervals between consecutive posts, calculate variance from mean interval</p>
								<p><strong class="text-[rgb(var(--color-text))]">Score Range:</strong> 0-100 (higher = more consistent)</p>
								<p><strong class="text-[rgb(var(--color-text))]">Interpretation:</strong> Lower variance in posting intervals indicates more regular writing habits</p>
							</div>
						</div>

						<div class="border-t border-[rgb(var(--color-border))] pt-8"></div>

						{/* Topic Consistency */}
						<div>
							<h4 class="text-lg font-semibold text-[rgb(var(--color-text))] mb-4 flex items-center gap-2">
								<span class="text-purple-500">üè∑Ô∏è</span>
								Topic Consistency
							</h4>
							<div class="space-y-3 text-[rgb(var(--color-text-muted))]">
								<p><strong class="text-[rgb(var(--color-text))]">Formula:</strong> (Most Frequent Tag Count / Total Posts) √ó 100</p>
								<p><strong class="text-[rgb(var(--color-text))]">Calculation:</strong> Count posts per tag, find highest frequency, divide by total posts</p>
								<p><strong class="text-[rgb(var(--color-text))]">Score Range:</strong> 0-100 (higher = more focused on single topic)</p>
								<p><strong class="text-[rgb(var(--color-text))]">Interpretation:</strong> Higher scores indicate concentrated focus, lower scores show topic diversity</p>
							</div>
						</div>

						<div class="border-t border-[rgb(var(--color-border))] pt-8"></div>

						{/* Quality Variance */}
						<div>
							<h4 class="text-lg font-semibold text-[rgb(var(--color-text))] mb-4 flex items-center gap-2">
								<span class="text-orange-500">üìä</span>
								Quality Variance
							</h4>
							<div class="space-y-3 text-[rgb(var(--color-text-muted))]">
								<p><strong class="text-[rgb(var(--color-text))]">Formula:</strong> Variance = Œ£(word_count - avg_word_count)¬≤ / n</p>
								<p><strong class="text-[rgb(var(--color-text))]">Calculation:</strong> Calculate variance in word count across all posts</p>
								<p><strong class="text-[rgb(var(--color-text))]">Score Range:</strong> 0-100 (lower = more consistent quality)</p>
								<p><strong class="text-[rgb(var(--color-text))]">Normalization:</strong> Variance / 10, capped at 100</p>
								<p><strong class="text-[rgb(var(--color-text))]">Interpretation:</strong> Lower scores indicate consistent post lengths, higher scores show irregular content depth</p>
							</div>
						</div>

						<div class="border-t border-[rgb(var(--color-border))] pt-8"></div>

						{/* Writing Streaks */}
						<div>
							<h4 class="text-lg font-semibold text-[rgb(var(--color-text))] mb-4 flex items-center gap-2">
								<span class="text-pink-500">üìà</span>
								Writing Streaks
							</h4>
							<div class="space-y-3 text-[rgb(var(--color-text-muted))]">
								<p><strong class="text-[rgb(var(--color-text))]">Definition:</strong> Consecutive posts within 7 days of each other</p>
								<p><strong class="text-[rgb(var(--color-text))]">Average Streak:</strong> Œ£(streak_lengths) / number_of_streaks</p>
								<p><strong class="text-[rgb(var(--color-text))]">Consistency Ratio:</strong> Streaks / (Streaks + Dry Spells)</p>
								<p><strong class="text-[rgb(var(--color-text))]">Interpretation:</strong> Higher ratios indicate more predictable creative cycles</p>
							</div>
						</div>

						<div class="border-t border-[rgb(var(--color-border))] pt-8"></div>

						{/* Grade Scoring */}
						<div>
							<h4 class="text-lg font-semibold text-[rgb(var(--color-text))] mb-4 flex items-center gap-2">
								<span class="text-indigo-500">üéØ</span>
								Grade Scoring
							</h4>
							<div class="grid grid-cols-2 md:grid-cols-3 gap-4 text-[rgb(var(--color-text-muted))]">
								<div><strong class="text-green-600">A+ (97-100):</strong> Exceptional</div>
								<div><strong class="text-green-600">A (93-96):</strong> Excellent</div>
								<div><strong class="text-blue-600">B (83-92):</strong> Good</div>
								<div><strong class="text-yellow-600">C (70-82):</strong> Average</div>
								<div><strong class="text-orange-600">D (60-69):</strong> Below average</div>
								<div><strong class="text-red-600">F (0-59):</strong> Needs improvement</div>
							</div>
						</div>
					</div>
				</div>

			</div>
		</Container>
	</Container>
</BaseLayout> 